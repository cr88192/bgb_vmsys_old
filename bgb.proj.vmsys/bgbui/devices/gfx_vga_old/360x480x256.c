#include <os1/kernel/gfx_disp/twkuser.h> // get Register definition
#include <os1/kernel/gfx_disp/gcontext.h>

Register G360x480x256[] =
{
	{ 0x3c2, 0x0, 0xe7},
	{ 0x3d4, 0x0, 0x6b},
	{ 0x3d4, 0x1, 0x59},
	{ 0x3d4, 0x2, 0x5a},
	{ 0x3d4, 0x3, 0x8e},
	{ 0x3d4, 0x4, 0x5e},
	{ 0x3d4, 0x5, 0x8a},
	{ 0x3d4, 0x6, 0xd},
	{ 0x3d4, 0x7, 0x3e},
	{ 0x3d4, 0x8, 0x0},
	{ 0x3d4, 0x9, 0x40},
	{ 0x3d4, 0x10, 0xea},
	{ 0x3d4, 0x11, 0xac},
	{ 0x3d4, 0x12, 0xdf},
	{ 0x3d4, 0x13, 0x2d},
	{ 0x3d4, 0x14, 0x0},
	{ 0x3d4, 0x15, 0xe7},
	{ 0x3d4, 0x16, 0x6},
	{ 0x3d4, 0x17, 0xe3},
	{ 0x3c4, 0x1, 0x1},
	{ 0x3c4, 0x4, 0x6},
	{ 0x3ce, 0x5, 0x40},
	{ 0x3ce, 0x6, 0x5},
	{ 0x3c0, 0x10, 0x41},
	{ 0x3c0, 0x13, 0x0},
	{ 0, 0, 0}
};

void G360x480x256_Setup(struct gfx_context_t *ctx)
{
	outRegArrayZ(&G360x480x256);
	ctx->width=360;
	ctx->height=480;
	ctx->aspect=360.0/480.0;
	ctx->bpp=8;
	ctx->type=0;
}

int G360x480x256_Write(struct gfx_context_t *ctx,int dx,int dy,
	struct gfx_image_t *img,int sx,int sy,int xs,int ys)
{
	if((img->bpp!=8)&&(img->bpp!=16)&&(img->bpp!=24))return(-1);
}